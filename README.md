# らくらく・おしゃべり日記

[![IMAGE ALT TEXT HERE](https://jphacks.com/wp-content/uploads/2025/05/JPHACKS2025_ogp.jpg)](https://www.youtube.com/watch?v=lA9EluZugD8)

## 製品概要

-----

### 背景(製品開発のきっかけ、課題等）

「日記を書きたいけれど、何を書けばいいか分からない」「書くのが面倒で続かない」といった課題は多くの人が抱えています。日々の出来事を記録し、振り返る習慣は大切ですが、そのハードルの高さがネックとなっていました。このプロダクトは、その課題をAIの力で解決し、誰もが気軽に日記をつけられる体験を提供することを目指してハッカソンで開発されました。

### 製品説明（具体的な製品の説明）

本製品は、ユーザーが音声で話すだけで、AIアシスタントが日記の材料となる情報を引き出し、最終的にユーザーの日記を代筆する**音声対話型の日記代筆アプリ**です。ユーザーはマイクに向かって今日あったことを自由に話すだけで、AIが適切な質問を投げかけ、会話を通じて日記の5つの要素（出来事、気持ち、気づき、感謝、明日やりたいこと）を収集します。情報が十分に集まったと判断すると、AIは日記の作成を提案し、これまでの会話内容に基づいた日記を生成します。

### 特長

#### 1\. 音声対話で手軽に記録

マイクに向かって話すだけで、AIとの自然な会話を通じて日記の材料を集められます。キーボード入力の手間が省け、思考の流れを中断することなく話に集中できます。

#### 2\. 目的指向型のAIアシスタント

ただ話を聞くだけでなく、AIが「今日の出来事」「気持ち」「気づき・学び」「感謝したこと」「明日への一言」といった日記に必要な5つの要素を意識して質問を生成。ユーザーが深掘りするべき点に気づき、より豊かな内容の日記作成をサポートします。

#### 3\. 個別最適化された日記の自動生成

AIが収集した会話ログをもとに、そのユーザー固有の出来事や感情を反映した日記の文章を自動で生成します。ユーザーは生成された日記を確認・修正するだけで、自分だけの日記を完成させることができます。

### 解決出来ること

  * 「何を書けばいいか分からない」という日記作成のハードルを解消します。
  * 日々の出来事や感情を振り返る習慣を、ストレスなく身につけられます。
  * 手軽に日記をつけられることで、自己理解を深めるきっかけを提供します。

### 今後の展望

  * 生成された日記の編集機能や、過去の日記を振り返る機能の追加。
  * 音声合成の質の向上や、多様なAIモデル（例えば特定のパーソナリティを持つアシスタント）の選択肢の提供。
  * 日記の内容から感情分析を行い、ユーザーの心の状態を可視化する機能。

### 注力したこと（こだわり等）

  * **自然で目的指向型のAI対話設計**: ユーザーが無理なく日記の材料を提供できるよう、共感を交えつつ、日記の5要素を効果的に引き出すプロンプトエンジニアリングにこだわりました。
  * **シンプルで堅牢なバックエンドアーキテクチャ**: 会話履歴の管理はフロントエンドに任せ、バックエンドはAIの推論に特化する「ステートレス」な設計を採用。これにより、開発の複雑さを軽減し、スケーラビリティと保守性を高めました。

-----

## 開発技術

### 活用した技術

#### API・データ

  * **Google Gemini API**: AIアシスタントの中核となる大規模言語モデルとして利用。高速な`gemini-1.5-flash`モデルを使用し、リアルタイムに近い対話応答を実現。
  * **Python-dotenv**: APIキーなどの機密情報を安全に環境変数から読み込むために使用。

#### フレームワーク・ライブラリ・モジュール

  * **バックエンド**:
      * **FastAPI**: 高速なAPI開発のためのPython Webフレームワーク。非同期処理に対応し、高負荷に耐える設計。
      * **LangChain**: 大規模言語モデルを活用したアプリケーション開発を効率化するフレームワーク。プロンプト管理、出力解析、LLM連携に利用。
  * **フロントエンド**:
      * **Next.js (App Router)**: Reactフレームワーク。ルーティング、APIルート（バックエンドとの中継）に利用。
      * **Tailwind CSS**: 高速なUIスタイリングのためのユーティリティファーストCSSフレームワーク。
      * **Web Speech API (ブラウザネイティブ)**: クライアントサイドでの音声認識（Speech-to-Text）に利用。

#### デバイス

  * Webブラウザ（PC/スマートフォン）

#### ハッカソンで開発した独自機能・技術

  * **日記の5要素（出来事、気持ち、学び、感謝、明日やりたいこと）抽出に特化した目的指向型AIエージェント**:
      * AIのシステムプロンプトを詳細に設計し、ユーザーとの自然な会話の中で日記に必要な5つの情報を体系的に引き出すロジックを実装。単なるチャットボットではなく、明確な目的達成に向けて対話を推進。
      * PydanticモデルとLangChainの出力パーサーを組み合わせることで、AIの応答を「対話継続」か「終了提案」か、そして次の返答テキスト、という構造化された形式で確実に取得。
  * **フロントエンド主導のステートレスAPI設計**:
      * FastAPIバックエンドは、ユーザーからの会話履歴テキストをそのままLLMに渡し、AIの推論結果を返す純粋な「推論エンジン」として機能。会話の全履歴（State）はNext.jsのクライアントコンポーネントで管理し、リクエストごとにバックエンドに送信するアーキテクチャを採用。これにより、バックエンドのシンプルさとスケーラビリティを確保。

#### 特に力を入れた部分（ファイルリンク、またはcommit\_idを記載）
chat-agent-mvp/backend/services/agent_services.py 質問を生成するAIエージェント
